<section class="ftco-section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-12 col-lg-12">
        <div class="wrap">
          <div class="profile-wrap">
            <div class="d-flex">
              <div class="w-100">
                <h2 class="form-name my-5"><strong>User profile</strong></h2>
              </div>
            </div>
            <form
              [formGroup]="profileForm"
              (ngSubmit)="onSubmit()"
              class="signin-form"
            >
              <div class="form-wrap">
                <div class="row">
                  <h5>Profile Details</h5>
                  <div class="col-md-12">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group mb-3">
                          <label class="label" for="firstName"
                            >First Name</label
                          >
                          <input
                            type="text"
                            id="firstName"
                            class="form-control"
                            formControlName="firstName"
                          />
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group mb-3">
                          <label class="label" for="lastName">Last Name</label>
                          <input
                            type="text"
                            id="lastName"
                            class="form-control"
                            formControlName="lastName"
                          />
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group mb-3">
                          <label
                            class="label"
                            for="email"
                            [class]="{
                              'star-invalid':
                                f['email'].errors && f['email'].touched
                            }"
                          >
                            Email
                            <span
                              [class]="{
                                'star-invalid':
                                  f['email'].errors ||
                                  (f['email'].touched && f['email'].errors)
                              }"
                            >
                              *
                            </span>
                          </label>
                          <input
                            type="text"
                            id="email"
                            class="form-control"
                            formControlName="email"
                            [class]="{
                              'is-invalid':
                                f['email'].errors &&
                                (f['email'].touched || submitted)
                            }"
                          />
                          <div
                            *ngIf="
                              f['email'].errors &&
                              (f['email'].touched || submitted)
                            "
                            class="invalid-feedback"
                          >
                            <div *ngIf="f['email'].errors['required']">
                              Field is required
                            </div>
                            <div *ngIf="f['email'].errors['email']">
                              Email format is invalid
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group mb-3">
                          <label class="label" for="jobTittle">Job title</label>
                          <input
                            type="text"
                            id="jobTittle"
                            class="form-control"
                            formControlName="jobTittle"
                          />
                        </div>
                      </div>
                    </div>

                    <div class="form-group mb-3">
                      <label class="label" for="phone">Phone</label>
                      <input
                        type="text"
                        id="phone"
                        class="form-control"
                        formControlName="phone"
                        [class]="{
                          'is-invalid':
                            f['phone'].errors &&
                            (f['phone'].touched || submitted)
                        }"
                      />
                      <div
                        *ngIf="
                          f['phone'].errors && (f['phone'].touched || submitted)
                        "
                        class="invalid-feedback"
                      >
                        <div *ngIf="f['phone'].errors['pattern']">
                          Phone number format is invalid
                        </div>
                      </div>
                    </div>

                    <div class="form-group mb-3">
                      <label class="label" for="dob">Day of birth</label>
                      <input
                        type="date"
                        id="dob"
                        class="form-control"
                        formControlName="dob"
                        [class]="{
                          'is-invalid':
                            f['dob'].errors && (f['dob'].touched || submitted)
                        }"
                      />
                      <div
                        *ngIf="
                          f['dob'].errors && (f['dob'].touched || submitted)
                        "
                        class="invalid-feedback"
                      >
                        <div *ngIf="f['dob'].errors['underage']">
                          Day of birth format is invalid, must be greater than
                          12 and less than 100
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row pt-5">
                  <h5>Security</h5>
                  <div class="col-md-6">
                    <div class="form-group mb-3">
                      <label
                        class="label"
                        for="password"
                        [class]="{
                          'star-invalid':
                            f['password'].errors && f['password'].touched
                        }"
                      >
                        Password
                        <span
                          [class]="{
                            'star-invalid':
                              f['password'].errors ||
                              (f['password'].touched && f['password'].errors)
                          }"
                        >
                          *
                        </span>
                      </label>
                      <div class="input-group">
                        <input
                          [type]="'password'"
                          id="password"
                          class="form-control"
                          formControlName="password"
                          [class]="{
                            'is-invalid':
                              f['password'].errors && f['password'].touched
                          }"
                        />
                        <div
                          *ngIf="f['password'].errors && f['password'].touched"
                          class="invalid-feedback"
                        >
                          <div *ngIf="f['password'].errors['required']">
                            Password is required
                          </div>
                          <div *ngIf="f['password'].errors['minlength']">
                            Password must be at least 6 characters
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group mb-3">
                      <label
                        class="label"
                        for="conpassword"
                        [class]="{
                          'star-invalid': f['conpassword'].errors && submitted
                        }"
                        >Confirm password
                        <span
                          [class]="{
                            'star-invalid':
                              (submitted && f['conpassword'].errors) ||
                              f['conpassword'].errors
                          }"
                          >*
                        </span>
                      </label>

                      <div class="input-group">
                        <input
                          [type]="'password'"
                          id="conpassword"
                          class="form-control"
                          formControlName="conpassword"
                          [class]="{
                            'is-invalid': f['conpassword'].errors && submitted
                          }"
                        />
                        <div
                          *ngIf="f['conpassword'].errors && submitted"
                          class="invalid-feedback"
                        >
                          <div *ngIf="f['conpassword'].errors['required']">
                            Confirm Password is required
                          </div>
                          <div *ngIf="f['conpassword'].errors['minlength']">
                            Confirm Password must be at least 6 characters
                          </div>
                          <div *ngIf="f['conpassword'].errors['matching']">
                            Password mismatch
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-button">
                  <button
                    type="submit"
                    class="form-control btn btn-primary rounded submit form-button__save"
                  >
                    Save
                  </button>
                  <button
                    type="submit"
                    class="form-control btn rounded submit form-button__cancel"
                  >
                    Cancel
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
